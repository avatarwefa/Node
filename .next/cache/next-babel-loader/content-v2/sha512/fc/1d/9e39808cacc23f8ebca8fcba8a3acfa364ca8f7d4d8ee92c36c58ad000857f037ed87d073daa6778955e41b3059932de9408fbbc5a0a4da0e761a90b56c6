{"ast":null,"code":"var _jsxFileName = \"D:\\\\Study\\\\Lu\\u1EADn v\\u0103n t\\u1ED1t nghi\\u1EC7p\\\\luanvan201frontend\\\\components\\\\Movie\\\\CommentBox.tsx\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nconst badword = ['dm', 'vcl', 'xxx', 'dmm'];\n\nclass CommentBox extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"postComment\", async event => {\n      let isGood = true;\n      event.preventDefault();\n\n      for (let index = 0; index < badword.length; index++) {\n        if (event.target.Body.value.includes(badword[index])) isGood = false;\n      }\n\n      if (isGood == false) window.alert(\"Bình luận chứa từ ngữ cấm\");else {\n        const res = await fetch('http://127.0.0.1:8000/api/comment/addComment', {\n          body: JSON.stringify({\n            IdMovie: 3,\n            IdUser: 3,\n            IdParentUser: -1,\n            UserName: 'Test',\n            Body: event.target.Body.value,\n            dateCreate: this.state.curTime\n          }),\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          method: 'POST'\n        });\n        const result = await res.json();\n      }\n    });\n\n    var today = new Date(),\n        date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate() + \" \" + today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds();\n    this.state = {\n      curTime: date\n    };\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"mv-user-comment-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, \"Write Your Comment Here:\"), __jsx(\"form\", {\n      onSubmit: this.postComment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, __jsx(\"textarea\", {\n      name: \"Body\",\n      id: \"Body\",\n      autoComplete: \"Body\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }), __jsx(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }, \" SUBMIT \")));\n  }\n\n}\n\nexport default CommentBox;","map":{"version":3,"sources":["D:/Study/Luận văn tốt nghiệp/luanvan201frontend/components/Movie/CommentBox.tsx"],"names":["React","badword","CommentBox","Component","constructor","props","event","isGood","preventDefault","index","length","target","Body","value","includes","window","alert","res","fetch","body","JSON","stringify","IdMovie","IdUser","IdParentUser","UserName","dateCreate","state","curTime","headers","method","result","json","today","Date","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","render","postComment"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,CACZ,IADY,EAEZ,KAFY,EAGZ,KAHY,EAIZ,KAJY,CAAhB;;AAOA,MAAMC,UAAN,SAAyBF,KAAK,CAACG,SAA/B,CAAyC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,yCAQL,MAAMC,KAAN,IAAe;AACzB,UAAIC,MAAM,GAAG,IAAb;AACAD,MAAAA,KAAK,CAACE,cAAN;;AACA,WAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGR,OAAO,CAACS,MAApC,EAA4CD,KAAK,EAAjD,EAAqD;AACjD,YAAIH,KAAK,CAACK,MAAN,CAAaC,IAAb,CAAkBC,KAAlB,CAAwBC,QAAxB,CAAiCb,OAAO,CAACQ,KAAD,CAAxC,CAAJ,EACIF,MAAM,GAAG,KAAT;AACP;;AACD,UAAIA,MAAM,IAAI,KAAd,EACIQ,MAAM,CAACC,KAAP,CAAa,2BAAb,EADJ,KAEK;AACD,cAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,8CAAD,EAAiD;AACpEC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,YAAAA,OAAO,EAAE,CADQ;AAEjBC,YAAAA,MAAM,EAAE,CAFS;AAGjBC,YAAAA,YAAY,EAAE,CAAC,CAHE;AAIjBC,YAAAA,QAAQ,EAAE,MAJO;AAKjBb,YAAAA,IAAI,EAAEN,KAAK,CAACK,MAAN,CAAaC,IAAb,CAAkBC,KALP;AAMjBa,YAAAA,UAAU,EAAE,KAAKC,KAAL,CAAWC;AANN,WAAf,CAD8D;AASpEC,UAAAA,OAAO,EAAE;AACL,4BAAgB;AADX,WAT2D;AAYpEC,UAAAA,MAAM,EAAE;AAZ4D,SAAjD,CAAvB;AAcA,cAAMC,MAAM,GAAG,MAAMd,GAAG,CAACe,IAAJ,EAArB;AACH;AACJ,KAlCkB;;AAEf,QAAIC,KAAK,GAAG,IAAIC,IAAJ,EAAZ;AAAA,QACIC,IAAI,GAAGF,KAAK,CAACG,WAAN,KAAsB,GAAtB,IAA6BH,KAAK,CAACI,QAAN,KAAmB,CAAhD,IAAqD,GAArD,GAA2DJ,KAAK,CAACK,OAAN,EAA3D,GAA6E,GAA7E,GAAmFL,KAAK,CAACM,QAAN,EAAnF,GAAsG,GAAtG,GAA4GN,KAAK,CAACO,UAAN,EAA5G,GAAiI,GAAjI,GAAuIP,KAAK,CAACQ,UAAN,EADlJ;AAEA,SAAKd,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAEO;AADA,KAAb;AAGH;;AA4BDO,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,EAEI;AAAM,MAAA,QAAQ,EAAE,KAAKC,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAU,MAAA,IAAI,EAAC,MAAf;AAAsB,MAAA,EAAE,EAAC,MAAzB;AAAgC,MAAA,YAAY,EAAC,MAA7C;AAAoD,MAAA,QAAQ,MAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,CAFJ,CADJ;AASH;;AA9CoC;;AAiDzC,eAAezC,UAAf","sourcesContent":["import React from 'react'\r\n\r\nconst badword = [\r\n    'dm',\r\n    'vcl',\r\n    'xxx',\r\n    'dmm'\r\n]\r\n\r\nclass CommentBox extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        var today = new Date(),\r\n            date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate() + \" \" + today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds();\r\n        this.state = {\r\n            curTime: date,\r\n        }\r\n    }\r\n    postComment = async event => {\r\n        let isGood = true;\r\n        event.preventDefault()\r\n        for (let index = 0; index < badword.length; index++) {\r\n            if (event.target.Body.value.includes(badword[index]))\r\n                isGood = false;\r\n        }\r\n        if (isGood == false)\r\n            window.alert(\"Bình luận chứa từ ngữ cấm\")\r\n        else {\r\n            const res = await fetch('http://127.0.0.1:8000/api/comment/addComment', {\r\n                body: JSON.stringify({\r\n                    IdMovie: 3,\r\n                    IdUser: 3,\r\n                    IdParentUser: -1,\r\n                    UserName: 'Test',\r\n                    Body: event.target.Body.value,\r\n                    dateCreate: this.state.curTime\r\n                }),\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                method: 'POST'\r\n            })\r\n            const result = await res.json()\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"mv-user-comment-box\">\r\n                <p>Write Your Comment Here:</p>\r\n                <form onSubmit={this.postComment}>\r\n                    <textarea name=\"Body\" id=\"Body\" autoComplete=\"Body\" required></textarea>\r\n                    <button type=\"submit\"> SUBMIT </button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CommentBox"]},"metadata":{},"sourceType":"module"}