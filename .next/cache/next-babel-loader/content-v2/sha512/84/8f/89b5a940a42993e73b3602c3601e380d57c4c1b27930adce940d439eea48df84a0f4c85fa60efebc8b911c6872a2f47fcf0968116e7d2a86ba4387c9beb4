{"ast":null,"code":"import _regeneratorRuntime from \"D:/Study/Lu\\u1EADn v\\u0103n t\\u1ED1t nghi\\u1EC7p/luanvan201frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/Study/Lu\\u1EADn v\\u0103n t\\u1ED1t nghi\\u1EC7p/luanvan201frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:/Study/Lu\\u1EADn v\\u0103n t\\u1ED1t nghi\\u1EC7p/luanvan201frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Study/Lu\\u1EADn v\\u0103n t\\u1ED1t nghi\\u1EC7p/luanvan201frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"D:/Study/Lu\\u1EADn v\\u0103n t\\u1ED1t nghi\\u1EC7p/luanvan201frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:/Study/Lu\\u1EADn v\\u0103n t\\u1ED1t nghi\\u1EC7p/luanvan201frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Study/Lu\\u1EADn v\\u0103n t\\u1ED1t nghi\\u1EC7p/luanvan201frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Study/Lu\\u1EADn v\\u0103n t\\u1ED1t nghi\\u1EC7p/luanvan201frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"D:/Study/Lu\\u1EADn v\\u0103n t\\u1ED1t nghi\\u1EC7p/luanvan201frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\Study\\\\Lu\\u1EADn v\\u0103n t\\u1ED1t nghi\\u1EC7p\\\\luanvan201frontend\\\\components\\\\Movie\\\\CommentBox.tsx\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nvar badword = ['dm', 'vcl', 'xxx', 'dmm'];\n\nvar CommentBox = /*#__PURE__*/function (_React$Component) {\n  _inherits(CommentBox, _React$Component);\n\n  var _super = _createSuper(CommentBox);\n\n  function CommentBox(props) {\n    var _this;\n\n    _classCallCheck(this, CommentBox);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"postComment\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var isGood, index;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                isGood = true;\n                event.preventDefault();\n\n                for (index = 0; index < badword.length; index++) {\n                  if (event.target.Body.value.match(badword[index])) isGood = false;\n                }\n\n                if (isGood == false) window.alert(\"Bình luận chứa từ ngữ cấm\");else {\n                  // const res = await fetch('http://127.0.0.1:8000/api/comment/addComment', {\n                  //     body: JSON.stringify({\n                  //         IdMovie: 3,\n                  //         IdUser: 3,\n                  //         IdParentUser: -1,\n                  //         UserName: 'Test',\n                  //         Body: event.target.Body.value,\n                  //         dateCreate: this.state.curTime\n                  //     }),\n                  //     headers: {\n                  //         'Content-Type': 'application/json'\n                  //     },\n                  //     method: 'POST'\n                  // })\n                  // const result = await res.json()\n                  window.alert(\"Bình luận thành công\");\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    var today = new Date(),\n        date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate() + \" \" + today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds();\n    _this.state = {\n      curTime: date\n    };\n    return _this;\n  }\n\n  _createClass(CommentBox, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        className: \"mv-user-comment-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }\n      }, __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }, \"Write Your Comment Here:\"), __jsx(\"form\", {\n        onSubmit: this.postComment,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      }, __jsx(\"textarea\", {\n        name: \"Body\",\n        id: \"Body\",\n        autoComplete: \"Body\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }\n      }), __jsx(\"button\", {\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }\n      }, \" SUBMIT \")));\n    }\n  }]);\n\n  return CommentBox;\n}(React.Component);\n\nexport default CommentBox;","map":{"version":3,"sources":["D:/Study/Luận văn tốt nghiệp/luanvan201frontend/components/Movie/CommentBox.tsx"],"names":["React","badword","CommentBox","props","event","isGood","preventDefault","index","length","target","Body","value","match","window","alert","today","Date","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","state","curTime","postComment","Component"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,GAAG,CACZ,IADY,EAEZ,KAFY,EAGZ,KAHY,EAIZ,KAJY,CAAhB;;IAOMC,U;;;;;AACF,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8BAAMA,KAAN;;AADe;AAAA,0EAQL,iBAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACNC,gBAAAA,MADM,GACG,IADH;AAEVD,gBAAAA,KAAK,CAACE,cAAN;;AACA,qBAASC,KAAT,GAAiB,CAAjB,EAAoBA,KAAK,GAAGN,OAAO,CAACO,MAApC,EAA4CD,KAAK,EAAjD,EAAqD;AACjD,sBAAIH,KAAK,CAACK,MAAN,CAAaC,IAAb,CAAkBC,KAAlB,CAAwBC,KAAxB,CAA8BX,OAAO,CAACM,KAAD,CAArC,CAAJ,EACIF,MAAM,GAAG,KAAT;AACP;;AACD,oBAAIA,MAAM,IAAI,KAAd,EACIQ,MAAM,CAACC,KAAP,CAAa,2BAAb,EADJ,KAEK;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAD,kBAAAA,MAAM,CAACC,KAAP,CAAa,sBAAb;AACH;;AA1BS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OARK;;AAAA;AAAA;AAAA;AAAA;;AAEf,QAAIC,KAAK,GAAG,IAAIC,IAAJ,EAAZ;AAAA,QACIC,IAAI,GAAGF,KAAK,CAACG,WAAN,KAAsB,GAAtB,IAA6BH,KAAK,CAACI,QAAN,KAAmB,CAAhD,IAAqD,GAArD,GAA2DJ,KAAK,CAACK,OAAN,EAA3D,GAA6E,GAA7E,GAAmFL,KAAK,CAACM,QAAN,EAAnF,GAAsG,GAAtG,GAA4GN,KAAK,CAACO,UAAN,EAA5G,GAAiI,GAAjI,GAAuIP,KAAK,CAACQ,UAAN,EADlJ;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAER;AADA,KAAb;AAJe;AAOlB;;;;6BA6BQ;AACL,aACI;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADJ,EAEI;AAAM,QAAA,QAAQ,EAAE,KAAKS,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAU,QAAA,IAAI,EAAC,MAAf;AAAsB,QAAA,EAAE,EAAC,MAAzB;AAAgC,QAAA,YAAY,EAAC,MAA7C;AAAoD,QAAA,QAAQ,MAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,CAFJ,CADJ;AASH;;;;EA/CoB1B,KAAK,CAAC2B,S;;AAkD/B,eAAezB,UAAf","sourcesContent":["import React from 'react'\r\n\r\nconst badword = [\r\n    'dm',\r\n    'vcl',\r\n    'xxx',\r\n    'dmm'\r\n]\r\n\r\nclass CommentBox extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        var today = new Date(),\r\n            date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate() + \" \" + today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds();\r\n        this.state = {\r\n            curTime: date,\r\n        }\r\n    }\r\n    postComment = async event => {\r\n        let isGood = true;\r\n        event.preventDefault()\r\n        for (let index = 0; index < badword.length; index++) {\r\n            if (event.target.Body.value.match(badword[index]))\r\n                isGood = false;\r\n        }\r\n        if (isGood == false)\r\n            window.alert(\"Bình luận chứa từ ngữ cấm\")\r\n        else {\r\n            // const res = await fetch('http://127.0.0.1:8000/api/comment/addComment', {\r\n            //     body: JSON.stringify({\r\n            //         IdMovie: 3,\r\n            //         IdUser: 3,\r\n            //         IdParentUser: -1,\r\n            //         UserName: 'Test',\r\n            //         Body: event.target.Body.value,\r\n            //         dateCreate: this.state.curTime\r\n            //     }),\r\n            //     headers: {\r\n            //         'Content-Type': 'application/json'\r\n            //     },\r\n            //     method: 'POST'\r\n            // })\r\n            // const result = await res.json()\r\n            window.alert(\"Bình luận thành công\")\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"mv-user-comment-box\">\r\n                <p>Write Your Comment Here:</p>\r\n                <form onSubmit={this.postComment}>\r\n                    <textarea name=\"Body\" id=\"Body\" autoComplete=\"Body\" required></textarea>\r\n                    <button type=\"submit\"> SUBMIT </button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CommentBox"]},"metadata":{},"sourceType":"module"}